<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!--继承自AuthorizingRealm的自定义Realm,即指定Shiro验证 用户登录-->
    <bean class="com.coder520.common.security.MyRealm" id="myRealm">
        <property name="credentialsMatcher" ref="passwordMatcher"/>
    </bean>
    <bean class="com.coder520.common.security.CustomCredentialsMatcher" id="passwordMatcher"/>

    <!--Shiro默认会使用Servlet容器的Session,可通过SessionMode属性来指定Shiro原生Session-->
    <!--即<property name="sessionMode" value="native"-->
    <!--这里主要是设置自订的Realm应用，若有多个Realm,可用‘realmd’属性代替-->
    <bean class="org.apache.shiro.web.mgt.DefaultWebSecurityManager" id="securityManager">
        <property name="realm" ref="myRealm"/>
    </bean>

    <!--Shiro主过滤器本身功能十分强大，支持任何基于URL路径表达的、自定义的过滤器的执行-->
    <!--Web应用中，Shiro可控制的Web请求必需经过Shiro主过滤器的拦截，Shiro对基于Spring的Web应用提供了完美的支持-->
    <bean class="org.apache.shiro.spring.web.ShiroFilterFactoryBean" id="shiroFilter">
        <!--Shiro的核心安全接口,必需-->
        <property name="securityManager" ref="securityManager"/>
    </bean>
</beans>